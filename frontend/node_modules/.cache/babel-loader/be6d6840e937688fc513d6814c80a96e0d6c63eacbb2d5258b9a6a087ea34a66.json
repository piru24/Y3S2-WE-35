{"ast":null,"code":"import { configureStore, createSlice, combineReducers } from \"@reduxjs/toolkit\";\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: {\n    isLoggedIn: false\n  },\n  reducers: {\n    login(state) {\n      state.isLoggedIn = true;\n    },\n    logout(state) {\n      state.isLoggedIn = false;\n    }\n  }\n});\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    //Defining initial state of the cart\n    products: [],\n    quantity: 0,\n    total: 0,\n    withCommision: 0\n  },\n  reducers: {\n    addProduct: (state, action) => {\n      state.quantity += 1;\n      state.products.push(action.payload); //adding Product \n      state.total += action.payload.price * action.payload.quantity;\n      state.withCommision = state.total + state.total * 0.05;\n    },\n    resetCart: state => {\n      state.products = [];\n      state.quantity = 0;\n      state.total = 0;\n    }\n  }\n});\nconst rootReducer = combineReducers({\n  auth: authSlice.reducer,\n  cart: cartSlice.reducer\n});\nexport const {\n  addProduct\n} = cartSlice.actions;\nexport const authActions = authSlice.actions;\nexport const store = configureStore({\n  reducer: rootReducer\n});\nstore.subscribe(() => {\n  const {\n    isLoggedIn\n  } = store.getState().auth;\n  if (!isLoggedIn) {\n    store.dispatch(cartSlice.actions.resetCart());\n  }\n});","map":{"version":3,"names":["configureStore","createSlice","combineReducers","authSlice","name","initialState","isLoggedIn","reducers","login","state","logout","cartSlice","products","quantity","total","withCommision","addProduct","action","push","payload","price","resetCart","rootReducer","auth","reducer","cart","actions","authActions","store","subscribe","getState","dispatch"],"sources":["C:/Users/PIRUTHIVI K/Desktop/food/Y3S2_DS_Project/frontend/src/components/Store/index.js"],"sourcesContent":["import { configureStore, createSlice, combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: { isLoggedIn: false },\r\n  reducers: {\r\n    login(state) {\r\n      state.isLoggedIn = true;\r\n    },\r\n    logout(state) {\r\n      state.isLoggedIn = false;\r\n    },\r\n  },\r\n});\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {          //Defining initial state of the cart\r\n    products: [],\r\n    quantity: 0,\r\n    total: 0,\r\n    withCommision:0,\r\n  },\r\n  reducers: {\r\n    addProduct: (state, action) => {\r\n      state.quantity += 1;\r\n      state.products.push(action.payload);//adding Product \r\n      state.total += action.payload.price * action.payload.quantity;\r\n      state.withCommision = state.total + state.total* 0.05;\r\n    },\r\n    resetCart: (state) => {\r\n      state.products = [];\r\n      state.quantity = 0;\r\n      state.total = 0;\r\n    },\r\n  },\r\n});\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authSlice.reducer,\r\n  cart: cartSlice.reducer,\r\n});\r\n\r\n\r\nexport const {addProduct} = cartSlice.actions;\r\n\r\nexport const authActions = authSlice.actions;\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  });\r\n\r\nstore.subscribe(()=>{\r\n  const {isLoggedIn} = store.getState().auth;\r\n  if(!isLoggedIn){\r\n    store.dispatch(cartSlice.actions.resetCart())\r\n  }\r\n})"],"mappings":"AAAA,SAASA,cAAc,EAAEC,WAAW,EAAEC,eAAe,QAAQ,kBAAkB;AAE/E,MAAMC,SAAS,GAAGF,WAAW,CAAC;EAC5BG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IAAEC,UAAU,EAAE;EAAM,CAAC;EACnCC,QAAQ,EAAE;IACRC,KAAKA,CAACC,KAAK,EAAE;MACXA,KAAK,CAACH,UAAU,GAAG,IAAI;IACzB,CAAC;IACDI,MAAMA,CAACD,KAAK,EAAE;MACZA,KAAK,CAACH,UAAU,GAAG,KAAK;IAC1B;EACF;AACF,CAAC,CAAC;AAEF,MAAMK,SAAS,GAAGV,WAAW,CAAC;EAC5BG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IAAW;IACvBO,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAE,CAAC;IACRC,aAAa,EAAC;EAChB,CAAC;EACDR,QAAQ,EAAE;IACRS,UAAU,EAAEA,CAACP,KAAK,EAAEQ,MAAM,KAAK;MAC7BR,KAAK,CAACI,QAAQ,IAAI,CAAC;MACnBJ,KAAK,CAACG,QAAQ,CAACM,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC,CAAC;MACpCV,KAAK,CAACK,KAAK,IAAIG,MAAM,CAACE,OAAO,CAACC,KAAK,GAAGH,MAAM,CAACE,OAAO,CAACN,QAAQ;MAC7DJ,KAAK,CAACM,aAAa,GAAGN,KAAK,CAACK,KAAK,GAAGL,KAAK,CAACK,KAAK,GAAE,IAAI;IACvD,CAAC;IACDO,SAAS,EAAGZ,KAAK,IAAK;MACpBA,KAAK,CAACG,QAAQ,GAAG,EAAE;MACnBH,KAAK,CAACI,QAAQ,GAAG,CAAC;MAClBJ,KAAK,CAACK,KAAK,GAAG,CAAC;IACjB;EACF;AACF,CAAC,CAAC;AAEF,MAAMQ,WAAW,GAAGpB,eAAe,CAAC;EAClCqB,IAAI,EAAEpB,SAAS,CAACqB,OAAO;EACvBC,IAAI,EAAEd,SAAS,CAACa;AAClB,CAAC,CAAC;AAGF,OAAO,MAAM;EAACR;AAAU,CAAC,GAAGL,SAAS,CAACe,OAAO;AAE7C,OAAO,MAAMC,WAAW,GAAGxB,SAAS,CAACuB,OAAO;AAE5C,OAAO,MAAME,KAAK,GAAG5B,cAAc,CAAC;EAClCwB,OAAO,EAAEF;AACT,CAAC,CAAC;AAEJM,KAAK,CAACC,SAAS,CAAC,MAAI;EAClB,MAAM;IAACvB;EAAU,CAAC,GAAGsB,KAAK,CAACE,QAAQ,EAAE,CAACP,IAAI;EAC1C,IAAG,CAACjB,UAAU,EAAC;IACbsB,KAAK,CAACG,QAAQ,CAACpB,SAAS,CAACe,OAAO,CAACL,SAAS,EAAE,CAAC;EAC/C;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}