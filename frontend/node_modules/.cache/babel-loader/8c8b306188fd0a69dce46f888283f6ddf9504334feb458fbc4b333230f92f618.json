{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PIRUTHIVI K\\\\Desktop\\\\food\\\\Y3S2_DS_Project\\\\frontend\\\\src\\\\components\\\\Profile\\\\updatePWD.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport '../../assets/styles/Forms.css';\nimport swal from 'sweetalert';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdatePWD = () => {\n  _s();\n  const id = useParams();\n  const navigate = useNavigate();\n  const [inputs, setInputs] = useState({\n    name: \"\",\n    mobile: \"\",\n    email: \"\",\n    address: \"\",\n    pwd: \"\"\n  });\n  const handleChange = e => {\n    setInputs(prevState => ({\n      ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        await axios.get(\"http://localhost:8090/User/profile\").then(res => {\n          setInputs(res.data.user);\n          console.log(res.data.user);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getUser();\n  }, [id]);\n  const sendData = async () => {\n    const res = await axios.patch(\"http://localhost:8090/User/update/pwd\", {\n      pwd: inputs.pwd\n    }).then(err => {\n      swal({\n        title: \"Password updated!\",\n        icon: \"success\",\n        button: \"OK\",\n        timer: 3000\n      });\n      navigate(\"/profile\");\n    }).catch(err => console.log(err));\n    const data = await res.data;\n    return data;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(inputs.pwd);\n    sendData();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forms\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"UPDATE YOUR PASSWORD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"ENTER YOUR NEW PASSWORD:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password || '',\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputs\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), inputs && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Name:\", inputs.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Mobile:\", inputs.mobile]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Email:\", inputs.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Address:\", inputs.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"I am a \", inputs.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdatePWD, \"g9k/C/6jNsFmHBBiSV6wmWuZE8s=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UpdatePWD;\nexport default UpdatePWD;\nvar _c;\n$RefreshReg$(_c, \"UpdatePWD\");","map":{"version":3,"names":["React","useState","useEffect","axios","swal","useNavigate","useParams","jsxDEV","_jsxDEV","UpdatePWD","_s","id","navigate","inputs","setInputs","name","mobile","email","address","pwd","handleChange","e","prevState","target","value","getUser","get","then","res","data","user","console","log","err","sendData","patch","title","icon","button","timer","catch","handleSubmit","preventDefault","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","password","onChange","setPassword","type","role","_c","$RefreshReg$"],"sources":["C:/Users/PIRUTHIVI K/Desktop/food/Y3S2_DS_Project/frontend/src/components/Profile/updatePWD.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport '../../assets/styles/Forms.css'\r\nimport swal from 'sweetalert'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\n\r\n\r\nconst UpdatePWD = () => {\r\n    const id = useParams()\r\n    const navigate = useNavigate();\r\n    const [inputs, setInputs] = useState({\r\n    name:\"\",\r\n    mobile:\"\",\r\n    email:\"\",\r\n    address:\"\",\r\n    pwd:\"\"\r\n    })\r\n  \r\n   \r\n  \r\n    const handleChange = (e) => {\r\n      setInputs((prevState)=> ({\r\n        ...prevState, \r\n        [e.target.name] : e.target.value\r\n      }))\r\n  \r\n    }\r\n  \r\n  \r\n    useEffect(()=>{\r\n        const getUser = async() => {\r\n            try {\r\n               await axios.get(\"http://localhost:8090/User/profile\").then((res)=>{\r\n                  setInputs(res.data.user)\r\n                  console.log(res.data.user)\r\n              })} catch (err) {\r\n                console.log(err)\r\n              }\r\n            }\r\n        getUser()\r\n    }, [id])\r\n  \r\n    const sendData = async() =>{\r\n  \r\n      const res = await axios.patch(\"http://localhost:8090/User/update/pwd\", {\r\n        pwd:inputs.pwd\r\n      }).then((err)=>{swal({\r\n          title: \"Password updated!\",\r\n      \r\n          icon: \"success\",\r\n          button: \"OK\" ,\r\n          timer : 3000\r\n         \r\n        });\r\n      \r\n        navigate(\"/profile\")\r\n  \r\n      }).catch((err)=>console.log(err));\r\n  \r\n      const data = await res.data;\r\n      return data;\r\n  \r\n    }\r\n  \r\n    const handleSubmit = (e) =>{\r\n      e.preventDefault();\r\n      console.log(inputs.pwd)\r\n      sendData()\r\n    }\r\n  \r\n    return (\r\n\r\n        <div>\r\n\r\n      \r\n      <div className='forms' onSubmit={handleSubmit}>\r\n      <h1>UPDATE YOUR PASSWORD</h1>\r\n<div className='inputs'>\r\n<h1></h1>\r\n        <label>ENTER YOUR NEW PASSWORD:</label><input value={password || ''} onChange={e => setPassword(e.target.value)} />\r\n\r\n        </div>\r\n          \r\n          <div className='inputs'>\r\n          <button type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n          </div>\r\n          \r\n          {inputs &&(<div>\r\n      <h1>Name:{inputs.name}</h1>\r\n      <h1>Mobile:{inputs.mobile}</h1>\r\n      <h1>Email:{inputs.email}</h1>\r\n      <h1>Address:{inputs.address}</h1>\r\n      <h1>I am a {inputs.role}</h1>\r\n      </div>)}\r\n      \r\n      </div>\r\n\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default UpdatePWD"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}